spring.application.name=java-crablet-test
server.port=0
# JDBC PostgreSQL Configuration for Tests
# URL, username, and password are set dynamically by AbstractCrabletTest
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.connection-timeout=30000
# Flyway Configuration for Tests
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=false
# Logging Configuration for Tests - Minimal logging for clean test output
logging.level.com.wallets=WARN
logging.level.com.crablet=WARN
logging.level.org.springframework=WARN
logging.level.org.springframework.jdbc=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.boot=WARN
logging.level.org.springframework.test=WARN
logging.level.com.zaxxer.hikari=WARN
logging.level.org.flywaydb=WARN
logging.level.org.testcontainers=WARN
logging.level.root=WARN

# Enable outbox for testing
crablet.outbox.enabled=true
crablet.outbox.lock-strategy=PER_TOPIC_PUBLISHER

# Fast intervals for testing
crablet.outbox.acquisition-retry-interval-ms=1000
crablet.outbox.heartbeat-ttl-seconds=5

# Define topics for testing with explicit publisher mapping
crablet.outbox.topics.default.required-tags=test
crablet.outbox.topics.default.publishers=CountDownLatchPublisher,TestPublisher,LogPublisher

# Enable publishers for testing
crablet.outbox.publishers.log.enabled=true

# Enable global statistics for testing
crablet.outbox.global-statistics.enabled=true
crablet.outbox.global-statistics.log-interval-seconds=1
crablet.outbox.global-statistics.log-level=INFO
