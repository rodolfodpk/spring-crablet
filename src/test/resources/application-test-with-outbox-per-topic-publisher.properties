# Base test configuration with outbox enabled
spring.config.import=optional:application-test.properties

# Enable outbox for infrastructure tests
crablet.outbox.enabled=true
crablet.outbox.lock-strategy=PER_TOPIC_PUBLISHER

# Fast intervals for testing (30 seconds for polling)
crablet.outbox.acquisition-retry-interval-ms=30000
crablet.outbox.heartbeat-ttl-seconds=60

# Topic configuration - use only CountDownLatchPublisher for deterministic testing
crablet.outbox.topics.default.required-tags=test
crablet.outbox.topics.default.publishers=CountDownLatchPublisher

# Enable global statistics for testing
crablet.outbox.global-statistics.enabled=true
crablet.outbox.global-statistics.log-interval-seconds=1
crablet.outbox.global-statistics.log-level=INFO
